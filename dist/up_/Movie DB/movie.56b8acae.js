const t=document.querySelector(".search-form"),e=document.querySelector(".container-body"),n=document.querySelector(".pagination-container-button"),a=document.getElementById("fist-page-btn"),i=document.getElementById("last-page-btn");t.addEventListener("submit",(function(t){t.preventDefault(),o=t.currentTarget.elements.query.value,c=1,d(),r()})),n.addEventListener("click",(function(t){if("pagination-button"!==t.target.className)return;c=Number(t.target.textContent),r(),d()})),a.addEventListener("click",(function(){c=1,r()})),i.addEventListener("click",(function(){c=s,r()}));let c=1,s=1,o="";try{r()}catch(t){console.log(t)}async function r(){let t={};t=o?await async function(t,e=1){const n=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=2a16c6401fc5b60e749d1dab2b58b588&language=en-US&query=${t}&page=${e}&include_adult=false`);return await n.json()}(o,c):await async function(t=1){const e=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=2a16c6401fc5b60e749d1dab2b58b588&page=${t}`);return await e.json()}(c),function(t){const n=t.results.map((({title:t,vote_average:e,poster_path:n})=>` <div class="film-card">\n       <a href="#" class="film-card__link">\n         <img\n           class="film-card__image"\n           src="https://image.tmdb.org/t/p/w500${n}"\n           alt="alt "\n         />\n       </a>\n       <div class="film-card__description">\n         <p class="film-card__text">${t.substring(0,45)}</p>\n         <p class="film-card__text film-rating">${e}</p>\n       </div>\n     </div>`)).join("");e.innerHTML="",e.insertAdjacentHTML("beforeend",n)}(t),c=t.page,s=t.total_pages,d()}function d(){a.classList.add("hidden"),c>1&&a.classList.remove("hidden"),c===s&&i.classList.add("hidden"),c<s&&i.classList.remove("hidden");const t=function(t){const e=[];if(1===t)for(let t=1;t<=3;t+=1)e.push(t);if(t===s){for(let n=t;n>s-3;n-=1)e.push(n);return e.reverse()}t>1&&e.push(t-1,t,t+1);return e}(c).map((t=>t===c?`<button class="pagination-button is-active" id="pagination" name="pagin" >${t}</button>`:`<button class="pagination-button" id="pagination">${t}</button>`)).join("");n.innerHTML="",n.insertAdjacentHTML("beforeend",t)}
//# sourceMappingURL=movie.56b8acae.js.map
